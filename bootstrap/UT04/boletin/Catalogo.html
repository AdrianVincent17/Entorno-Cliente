<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>UT4 - Catálogo de películas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f5f5f5;
    }

    .contenedor {
      max-width: 600px;
      margin: 0 auto;
      background-color: #ffffff;
      padding: 20px;
      border-radius: 6px;
      box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);
    }

    h1 {
      text-align: center;
      margin-bottom: 5px;
    }

    h2 {
      font-size: 18px;
      margin-top: 15px;
      margin-bottom: 8px;
    }

    .apartado {
      border-top: 1px solid #ccc;
      padding-top: 10px;
      margin-top: 15px;
    }
  </style>
</head>

<body>
  <div class="contenedor">
    <h1>Catálogo de películas</h1>

    <!-- a) Catálogo completo -->
    <div class="apartado">
      <h2>A. Catálogo completo</h2>
      <div id="apartadoA"></div>
    </div>

    <!-- b) Películas recomendadas (nota ≥ 7) -->
    <div class="apartado">
      <h2>B. Título y nota de las películas más recomendadas (nota ≥ 7)</h2>
      <div id="apartadoB"></div>
    </div>

    <!-- c) Títulos de las menos recomendadas -->
    <div class="apartado">
      <h2>C. Títulos de las películas menos recomendadas (nota &lt; 7)</h2>
      <div id="apartadoC"></div>
    </div>

    <!-- d) Duración total -->
    <div class="apartado">
      <h2>D. Duración total del catálogo</h2>
      <div id="apartadoD"></div>
    </div>

    <!-- e) Primera película anterior a 2000 -->
    <div class="apartado">
      <h2>E. Primera película anterior a 2000</h2>
      <div id="apartadoE"></div>
    </div>
  </div>

  <script>
    
    // ----- Objetos del DOM -----
    // Referencias a los contenedores de salida
    const salidaA = document.getElementById("apartadoA");
    const salidaB = document.getElementById("apartadoB");
    const salidaC = document.getElementById("apartadoC");
    const salidaD = document.getElementById("apartadoD");
    const salidaE = document.getElementById("apartadoE");

    // A. Catálogo completo

    const catalogo = [
      { titulo: "Interéstelar", año: 2012, duracion: 125, nota: 8.9 },
      { titulo: "Origen", año: 2010, duracion: 148, nota: 8.8 },
      { titulo: "La Llegada", año: 2016, duracion: 116, nota: 8.5 },
      { titulo: "Blade Runner", año: 1997, duracion: 164, nota: 6 },
      { titulo: "Gravity", año: 2013, duracion: 91, nota: 6.9 }
    ];

    catalogo.forEach(peli => {
      peli.descripcion = function() {
        return `${peli.titulo} (${peli.año}) | Duración: ${peli.duracion} min | nota: ${peli.nota}`;
      };
    });

    catalogo.forEach(peli => {
      salidaA.innerHTML += peli.descripcion() + "<br>";
    });

    // B. Películas más recomendadas (nota ≥ 7)
    const recomendadas = catalogo.filter(peli => peli.nota >= 7);
    if(recomendadas.length != 0) {
      recomendadas.forEach(peli => {
        salidaB.innerHTML += `${peli.titulo} (${peli.nota}) <br>`;
      });
    } else {
      salidaB.textContent = "No hay ninguna película recomendada";
    }

    // C. Títulos de las menos recomendadas (nota < 7)
    const noRecomendadas = catalogo.filter(peli => peli.nota < 7);
    if(noRecomendadas.length != 0){
      const titulos = noRecomendadas.map(peli => peli.titulo).join(", ");
      salidaC.textContent = titulos;
    } else {
      salidaC.textContent = "No hay películas no recomendadas";
    }
    
    // D. Duración total del catálogo
    const duracion = catalogo.reduce((acum, peli) => acum + peli.duracion, 0);
    salidaD.textContent = duracion + " min";

    // E. Primera película anterior a 2000 
    const primera = catalogo.find(peli => peli.año < 2000);
    if(primera) {
      salidaE.innerHTML = primera.descripcion();
    }else {
      salidaE.textContent = "No hay películas anteriores al año 2000";
    }


  </script>
</body>

</html>